<!DOCTYPE html>
<html lang="en">
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Part Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body class="container p-3">
<h1>InhousePart Form</h1>

<form action="#" id="partForm" th:action="@{/InhousePartForm}" th:object="${inhousepart}" method="POST">
    <p><input type="hidden" th:field="*{id}"/></p>
    <p> Name <input type="text" id = "name" th:field="*{name}" placeholder="Name" class="form-control mb-4 col-4" required/></p>
    <p>Price<input type="text" id = "price" path="price" th:field="*{price}" placeholder= "Price" class="form-control mb-4 col-4" required/>
       <span class="text-danger" th:errors="*{price}"></span>
    </p>
    <p> Inventory <input type="text" id = "inventory" path="inv" th:field="*{inv}" placeholder="Inventory" class="form-control mb-4 col-4" required/>
        <span class="text-danger" th:errors="*{inv}"></span>
    </p>
    <p> Min <input type="text" id = "min" th:field="*{minimum}" placeholder="Min" class="form-control mb-4 col-4" required/>
        <span class="text-danger" th:errors="*{minimum}"></span>
    </p>
    <p> Max <input type="text" id = "max" th:field="*{maximum}" placeholder="Max" class="form-control mb-4 col-4" required/>
        <span class="text-danger" th:errors="*{maximum}"></span>
    </p>

    <p><input type="submit" value="Submit" onclick = "validate()" class="btn btn-success"/></p>
    <a href="http://localhost:8080/" class="btn btn-primary mt-2">Mainscreen</a>
</form>

<script>
    document.getElementById('partForm').addEventListener('submit', function(event) {
        let name = document.getElementById('name').value;
        let inv = parseInt(document.getElementById('inventory').value);
        let min = parseInt(document.getElementById('min').value);
        let max = parseInt(document.getElementById('max').value);
        let price = document.getElementById('price').value;
        let companyName = document.getElementById('companyName').value;

        if (!name || !inv || !min || !price || !max || !companyName) {
            alert('All fields should be filled out correctly.');
            event.preventDefault(); // Prevent form submission
            return; // Stop further execution
        }

    });
</script>

</body>
</html>